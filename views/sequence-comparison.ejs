<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNA Sequence Comparison Tool | Identify Mutations and Variants</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Compare DNA/RNA sequences to identify mutations, substitutions, insertions, and deletions with visualizations and comprehensive analysis reports. Free online sequence comparison tool.">
    <meta name="keywords" content="sequence comparison tool, DNA sequence alignment, mutation detection, genetic variant analysis, nucleotide comparison, bioinformatics tool, FASTA sequence">
    <meta name="author" content="Dr. Jyotsna Priyam">
    
    <!-- Open Graph Meta Tags for social sharing -->
    <meta property="og:title" content="DNA Sequence Comparison Tool - Mutation Analysis">
    <meta property="og:description" content="Free online tool to compare DNA/RNA sequences, identify mutations, and generate detailed analysis reports with visualizations">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ncbi.jyotsnapriyam.com/sequence-comparison">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ncbi.jyotsnapriyam.com/sequence-comparison">
    
    <!-- Update CSP to allow PDF generation -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: 'unsafe-inline' 'unsafe-eval' blob:; 
        script-src 'self' https: 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://html2canvas.hertzen.com; 
        style-src 'self' https: 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; 
        font-src 'self' https: https://fonts.gstatic.com https://cdnjs.cloudflare.com; 
        img-src 'self' https: data: blob:; 
        connect-src 'self' https:;">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/sequence-comparison.css">
    <link rel="stylesheet" href="/css/mutation-report.css">
    <link rel="stylesheet" href="/styles/modal.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="/js/pdf-export.js"></script>
    <script src="/js/sequence-comparison.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>

    <!-- Structured Data for SoftwareApplication and HowTo -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "SoftwareApplication",
          "name": "DNA Sequence Comparison Tool",
          "applicationCategory": "Scientific Tool",
          "operatingSystem": "Web-based",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          },
          "description": "An online tool for comparing DNA/RNA sequences to identify mutations, substitutions, insertions, and deletions with interactive visualizations and comprehensive analysis reports.",
          "featureList": [
            "DNA/RNA sequence comparison",
            "Mutation identification and analysis",
            "Visualization of sequence changes",
            "PDF report generation",
            "NCBI database integration"
          ],
          "softwareVersion": "1.0",
          "softwareRequirements": "Modern web browser with JavaScript enabled",
          "author": {
            "@type": "Person",
            "name": "Dr. Jyotsna Priyam",
            "sameAs": "https://orcid.org/0000-0001-8782-9783"
          },
          "publisher": {
            "@type": "Organization",
            "name": "Jyotsna's NCBI Tools",
            "url": "https://ncbi.jyotsnapriyam.com/"
          }
        },
        {
          "@type": "HowTo",
          "name": "How to Compare DNA Sequences and Identify Mutations",
          "description": "Step-by-step guide to using the Sequence Comparison Tool for identifying mutations between reference and query DNA/RNA sequences.",
          "totalTime": "PT5M",
          "tool": {
            "@type": "HowToTool",
            "name": "DNA Sequence Comparison Tool"
          },
          "step": [
            {
              "@type": "HowToStep",
              "name": "Upload Reference Sequence",
              "text": "Upload a FASTA/TXT file or enter an NCBI Accession ID for your reference sequence.",
              "url": "https://ncbi.jyotsnapriyam.com/sequence-comparison#reference-panel"
            },
            {
              "@type": "HowToStep",
              "name": "Upload Query Sequence",
              "text": "Upload a FASTA/TXT file or enter an NCBI Accession ID for your query sequence.",
              "url": "https://ncbi.jyotsnapriyam.com/sequence-comparison#query-panel"
            },
            {
              "@type": "HowToStep",
              "name": "Compare Sequences",
              "text": "Click the Compare button to analyze the sequences and identify mutations.",
              "url": "https://ncbi.jyotsnapriyam.com/sequence-comparison#compare-btn"
            },
            {
              "@type": "HowToStep",
              "name": "View Results",
              "text": "Examine the detailed mutation report with statistical analysis and visualizations.",
              "url": "https://ncbi.jyotsnapriyam.com/sequence-comparison#results-section"
            },
            {
              "@type": "HowToStep",
              "name": "Generate PDF Report",
              "text": "Download a comprehensive PDF report of your analysis for documentation or publication.",
              "url": "https://ncbi.jyotsnapriyam.com/sequence-comparison#download-btn"
            }
          ]
        }
      ]
    }
    </script>

    <style>
        .mutation-list table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .mutation-list th,
        .mutation-list td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .mutation-list th {
            background-color: #f5f5f5;
            font-weight: bold;
        }

        .mutation-list tr:hover {
            background-color: #f9f9f9;
        }

        .mutation-list .deletion {
            color: #dc3545;
            font-weight: bold;
        }

        .mutation-list .insertion {
            color: #28a745;
            font-weight: bold;
        }

        .mutation-list .substitution {
            color: #007bff;
            font-weight: bold;
        }

        .citation-section {
            margin: 20px auto;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            max-width: 1000px;
        }

        .citation-section h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
            text-align: left;
        }

        .citation-formats {
            display: flex;
            flex-direction: row;
            gap: 15px;
            flex-wrap: wrap;
        }

        .citation-box {
            flex: 1;
            min-width: 250px;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 4px;
            background: #f9f9f9;
        }

        .citation-box h4 {
            color: #444;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .citation-text {
            margin: 8px 0;
            padding: 8px;
            background: white;
            border: 1px solid #eee;
            border-radius: 4px;
            font-size: 0.8em;
            line-height: 1.4;
            height: 80px;
            overflow-y: auto;
        }

        .copy-btn {
            background: #4a90e2;
            color: white;
            border: none;
            padding: 4px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
            transition: background 0.3s;
            width: 100%;
            margin-top: 5px;
        }

        .copy-btn:hover {
            background: #357abd;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Sequence Comparison Tool</h1>
                <p class="header-subtitle">Identify mutations between reference and query sequences</p>
                <a href="/" class="back-link"><i class="fas fa-arrow-left"></i> Back to Tools</a>
            </div>
        </header>
        
        <!-- Breadcrumb Navigation -->
        <nav aria-label="Breadcrumb" class="breadcrumb-nav" style="margin: 10px 0 20px; padding: 8px 15px; background-color: #f5f5f5; border-radius: 4px;">
            <ol style="list-style: none; padding: 0; margin: 0; display: flex; font-size: 0.9em;" itemscope itemtype="https://schema.org/BreadcrumbList">
                <li style="display: inline-block;" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a href="/" itemprop="item" style="color: #3498db; text-decoration: none;">
                        <span itemprop="name">Home</span>
                    </a>
                    <meta itemprop="position" content="1" />
                    <span style="margin: 0 5px; color: #ccc;">></span>
                </li>
                <li style="display: inline-block;" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <span itemprop="name" style="color: #666;">Sequence Comparison Tool</span>
                    <meta itemprop="position" content="2" />
                </li>
            </ol>
        </nav>

        <div class="tool-container">
            <div class="input-section">
                <div class="sequence-panel reference-panel">
                    <h3>Reference Sequence</h3>
                    <div class="input-methods">
                        <div class="input-method">
                            <h4>Upload FASTA/TXT</h4>
                            <div class="dropzone" id="referenceDropzone">
                                <i class="fas fa-file-upload"></i>
                                <p>Drag & drop your file here or click to browse</p>
                                <input type="file" id="referenceFileInput" accept=".fasta,.txt" hidden>
                            </div>
                        </div>
                        <div class="input-method">
                            <h4>NCBI Accession ID</h4>
                            <div class="accession-input">
                                <input type="text" id="referenceAccession" placeholder="e.g., NC_045512.2">
                                <button id="fetchReferenceBtn">Fetch</button>
                            </div>
                        </div>
                    </div>
                    <div class="sequence-status" id="referenceStatus">No sequence loaded</div>
                </div>

                <div class="sequence-panel query-panel">
                    <h3>Query Sequence</h3>
                    <div class="input-methods">
                        <div class="input-method">
                            <h4>Upload FASTA/TXT</h4>
                            <div class="dropzone" id="queryDropzone">
                                <i class="fas fa-file-upload"></i>
                                <p>Drag & drop your file here or click to browse</p>
                                <input type="file" id="queryFileInput" accept=".fasta,.txt" hidden>
                            </div>
                        </div>
                        <div class="input-method">
                            <h4>NCBI Accession ID</h4>
                            <div class="accession-input">
                                <input type="text" id="queryAccession" placeholder="e.g., MT012098.1">
                                <button id="fetchQueryBtn">Fetch</button>
                            </div>
                        </div>
                    </div>
                    <div class="sequence-status" id="queryStatus">No sequence loaded</div>
                </div>
            </div>

            <div class="action-section">
                <div class="mutation-filters" style="text-align: center; margin-bottom: 20px;">
                    <label class="filter-checkbox">
                        <input type="checkbox" id="allMutations" checked>
                        <span>All Mutations</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="substitutionMutations">
                        <span>Substitutions</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="insertionMutations">
                        <span>Insertions</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" id="deletionMutations">
                        <span>Deletions</span>
                    </label>
                </div>
                
            </div>
            <div class="button-row" style="display: flex; justify-content: center; gap: 10px;">
                <button id="compareBtn" class="primary-btn" disabled>
                    <i class="fas fa-exchange-alt"></i> Compare Sequences
                </button>
                <button id="clearBtn" class="secondary-btn">
                    <i class="fas fa-trash"></i> Clear All
                </button>
            </div>
            <!-- Remove this duplicate button container -->
            <!-- <div class="button-container">...</div> -->

            <div class="results-section" id="resultsSection" style="display: none;">
                <div class="results-header">
                    <h2>Comparison Results</h2>
                </div>

                <section class="summary-stats">
                    <div class="stat-card">
                        <h4>Total Mutations</h4>
                        <div class="stat-value" id="totalMutations">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Sequence Length</h4>
                        <div class="stat-value" id="sequenceLength">0</div>
                    </div>
                    <div class="stat-card">
                        <h4>Mutation Rate</h4>
                        <div class="stat-value" id="mutationRate">0%</div>
                    </div>
                </section>

                <section class="sequence-metadata">
                    <div class="metadata-card">
                        <h4>Reference Sequence</h4>
                        <div id="referenceMetadata"></div>
                    </div>
                    <div class="metadata-card">
                        <h4>Query Sequence</h4>
                        <div id="queryMetadata"></div>
                    </div>
                </section>

                <section class="visualization-section">
                    <div class="chart-container">
                        <h4>Mutation Distribution</h4>
                        <canvas id="mutationChart" style="width: 100%; height: 300px;"></canvas>
                    </div>
                </section>

                <section class="sequence-display">
                    <h4>Sequence Alignment with Mutations Highlighted</h4>
                    <div class="sequence-viewer" id="sequenceViewer">
                        <!-- Sequence alignment will be displayed here -->
                    </div>
                </section>

                <section class="mutation-list">
                    <h4>Detailed Mutation List</h4>
                    <table id="mutationTable">
                        <thead>
                            <tr>
                                <th>Position</th>
                                <th>Reference</th>
                                <th>Query</th>
                                <th>Type</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Mutation details will be added here -->
                        </tbody>
                    </table>
                </section>

                <div class="pdf-export" style="text-align: center; margin: 20px 0;">
                    <button onclick="generatePDF()" class="primary-btn">
                        <i class="fas fa-file-pdf"></i> Download PDF Report
                    </button>
                    <button onclick="generateSimplePDF()" class="primary-btn" style="margin-left: 10px; background-color: #34a853;">
                        <i class="fas fa-file-pdf"></i> Simple PDF Report
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/sequence-comparison.js"></script>
    
    <section class="citation-section">
        <h3>How to Cite This Tool</h3>
        <div class="citation-formats">
            <div class="citation-box">
                <h4>APA Format</h4>
                <div class="citation-text" id="apa-citation">
                    Priyam, J. (2025). Jyotsna's NCBI Tools - Sequence Comparison Tool. DOI: 10.5281/zenodo.15069907
                </div>
                <button class="copy-btn" data-citation="apa-citation">Copy Citation</button>
            </div>
            <div class="citation-box">
                <h4>MLA Format</h4>
                <div class="citation-text" id="mla-citation">
                    Priyam, J. "Jyotsna's NCBI Tools - Sequence Comparison Tool." 2025, DOI: 10.5281/zenodo.15069907. Accessed <%= new Date().toLocaleDateString('en-US', {month: 'long', day: 'numeric', year: 'numeric'}) %>.
                </div>
                <button class="copy-btn" data-citation="mla-citation">Copy Citation</button>
            </div>
            <div class="citation-box">
                <h4>BibTeX Format</h4>
                <div class="citation-text" id="bibtex-citation">
@software{10_5281_zenodo_15069907,
    author = {Priyam, J.},
    title = {Jyotsna's NCBI Tools - Sequence Comparison Tool},
    year = {2025},
    version = {1.0.0},
    doi = {10.5281/zenodo.15069907},
    url = {https://ncbi.jyotsnapriyam.com/sequence-comparison},
    note = {Accessed: <%= new Date().toLocaleDateString('en-US', {month: 'long', day: 'numeric', year: 'numeric'}) %>}
}
                </div>
                <button class="copy-btn" data-citation="bibtex-citation">Copy Citation</button>
            </div>
        </div>
    </section>
    
    <!-- FAQ Section optimized for AI searches -->
    <section class="faq-section" style="margin: 40px auto; max-width: 800px; padding: 20px; background: white; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <h2 style="color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; margin-bottom: 20px;">Frequently Asked Questions</h2>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">What types of sequences can I compare with this tool?</h3>
            <p style="color: #555; line-height: 1.5;">This tool can compare DNA and RNA sequences in various formats, including FASTA and plain text. You can directly upload sequence files or fetch sequences from NCBI using their accession IDs.</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">How does the sequence comparison algorithm work?</h3>
            <p style="color: #555; line-height: 1.5;">The tool performs a pairwise alignment between your reference and query sequences to identify differences. It categorizes mutations as substitutions (base changes), insertions (added bases), or deletions (removed bases). The algorithm also calculates statistics like mutation rate and distribution across different regions.</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">Can I filter the mutation results?</h3>
            <p style="color: #555; line-height: 1.5;">Yes, you can filter results by mutation type (substitution, insertion, deletion) and by specific positions or regions of interest. This helps you focus on the most relevant changes for your research.</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">What information is included in the PDF report?</h3>
            <p style="color: #555; line-height: 1.5;">The PDF report includes comprehensive analysis details: summary statistics, sequence metadata, a visualization of mutation distribution, a complete table of all mutations with their positions and types, and citation information for academic use.</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">How can I cite this tool in my research?</h3>
            <p style="color: #555; line-height: 1.5;">You can cite this tool using standard academic formats (APA, MLA, Chicago) with the DOI: 10.5281/zenodo.15069907. Citation formats are provided at the bottom of the results page and included in the generated PDF reports.</p>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="color: #333; font-size: 1.1em; margin-bottom: 10px;">What is the maximum sequence length this tool can handle?</h3>
            <p style="color: #555; line-height: 1.5;">The tool is optimized for sequences up to 1 million base pairs. Larger sequences can be processed but may take longer. For very large genomic sequences (>10 million bp), we recommend using specialized desktop software.</p>
        </div>
    </section>

    <!-- Add FAQPage structured data for the FAQ section -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "What types of sequences can I compare with this tool?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "This tool can compare DNA and RNA sequences in various formats, including FASTA and plain text. You can directly upload sequence files or fetch sequences from NCBI using their accession IDs."
          }
        },
        {
          "@type": "Question",
          "name": "How does the sequence comparison algorithm work?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool performs a pairwise alignment between your reference and query sequences to identify differences. It categorizes mutations as substitutions (base changes), insertions (added bases), or deletions (removed bases). The algorithm also calculates statistics like mutation rate and distribution across different regions."
          }
        },
        {
          "@type": "Question",
          "name": "Can I filter the mutation results?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, you can filter results by mutation type (substitution, insertion, deletion) and by specific positions or regions of interest. This helps you focus on the most relevant changes for your research."
          }
        },
        {
          "@type": "Question",
          "name": "What information is included in the PDF report?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The PDF report includes comprehensive analysis details: summary statistics, sequence metadata, a visualization of mutation distribution, a complete table of all mutations with their positions and types, and citation information for academic use."
          }
        },
        {
          "@type": "Question",
          "name": "How can I cite this tool in my research?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "You can cite this tool using standard academic formats (APA, MLA, Chicago) with the DOI: 10.5281/zenodo.15069907. Citation formats are provided at the bottom of the results page and included in the generated PDF reports."
          }
        },
        {
          "@type": "Question",
          "name": "What is the maximum sequence length this tool can handle?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "The tool is optimized for sequences up to 1 million base pairs. Larger sequences can be processed but may take longer. For very large genomic sequences (>10 million bp), we recommend using specialized desktop software."
          }
        }
      ]
    }
    </script>

    <!-- Add script to handle citation copying -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listeners to all copy buttons
            document.querySelectorAll('.copy-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const citationId = this.getAttribute('data-citation');
                    const citationText = document.getElementById(citationId).textContent;
                    
                    navigator.clipboard.writeText(citationText.trim()).then(() => {
                        const originalText = this.textContent;
                        this.textContent = 'Copied!';
                        setTimeout(() => {
                            this.textContent = originalText;
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy:', err);
                        alert('Failed to copy citation. Please try selecting and copying manually.');
                    });
                });
            });
        });
    </script>

    <%- include('partials/footer') %>
    
</body>
</html>